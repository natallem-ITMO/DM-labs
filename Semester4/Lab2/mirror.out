start: 	S
accept: END
reject: R
blank: _

Q1 0 -> Q2 0 ^
Q1 1 -> Q2 1 ^

S 0 -> FFS 0 >
S 1 -> FFS 1 >

FFS 0 -> FFS 0 >
FFS 1 -> FFS 1 >
FFS _ -> FOUNDFS _ <
FFS 2 -> FOUNDFS 2 <
FFS 3 -> FOUNDFS 3 <

FOUNDFS 0 -> NEEDTOWRITE0 2 >
FOUNDFS 1 -> NEEDTOWRITE1 3 ^

NEEDTOWRITE0 2 -> NEEDTOWRITE0 2 >
NEEDTOWRITE0 3 -> NEEDTOWRITE0 3 >
NEEDTOWRITE0 4 -> NEEDTOWRITE0 4 >
NEEDTOWRITE0 5 -> NEEDTOWRITE0 5 >
NEEDTOWRITE0 _ -> FFSBACKWARD 4 <

NEEDTOWRITE1 2 -> NEEDTOWRITE1 2 >
NEEDTOWRITE1 3 -> NEEDTOWRITE1 3 >
NEEDTOWRITE1 4 -> NEEDTOWRITE1 4 >
NEEDTOWRITE1 5 -> NEEDTOWRITE1 5 >
NEEDTOWRITE1 _ -> FFSBACKWARD 5 <

FFSBACKWARD 5 -> FFSBACKWARD 5 <
FFSBACKWARD 4 -> FFSBACKWARD 4 <
FFSBACKWARD 3 -> FFSBACKWARD 3 <
FFSBACKWARD 2 -> FFSBACKWARD 2 <
FFSBACKWARD 1 -> FOUNDFS 1 ^
FFSBACKWARD 0 -> FOUNDFS 0 ^
FFSBACKWARD _ -> REPLACEALL _ >

REPLACEALL 2 -> REPLACEALL 0 >
REPLACEALL 3 -> REPLACEALL 1 >
REPLACEALL 4 -> REPLACEALL 0 >
REPLACEALL 5 -> REPLACEALL 1 >
REPLACEALL _ -> RETURNTOSTART _ <

RETURNTOSTART 0 -> RETURNTOSTART 0 <
RETURNTOSTART 1 -> RETURNTOSTART 1 <
RETURNTOSTART _ -> END _ >